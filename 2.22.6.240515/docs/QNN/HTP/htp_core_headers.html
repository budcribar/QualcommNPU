

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>HTP Core Headers for Op Packages &mdash; Qualcomm® AI Engine Direct</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom_css.css" type="text/css" />
  <link rel="stylesheet" href="../_static/collapsible-lists/css/tree_view.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/collapsible-lists/js/CollapsibleLists.compressed.js"></script>
        <script src="../_static/collapsible-lists/js/apply-collapsible-lists.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Implementing Ops" href="implementing_ops.html" />
    <link rel="prev" title="QNN HTP Optimization Utility Functions Usage Examples" href="common_optimization_utility_funcs_usage_examples.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Qualcomm® AI Engine Direct
          

          
          </a>

          
            
            
              <div class="version">
                v2.22.6
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../general/introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/setup.html">Setup</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../general/backend.html">Backend</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../general/backend.html#backend-specific-pages">Backend Specific Pages</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../general/dsp/dsp_backend.html">DSP</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../general/htp/htp_backend.html">HTP</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../general/htp/htp_backend.html#api-specializations">API Specializations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/htp/htp_backend.html#usage-expectations">Usage Expectations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/htp/htp_backend.html#qnn-htp-supported-operations">QNN HTP Supported Operations</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/htp/htp_backend.html#qnn-htp-variable-batch">QNN HTP Variable Batch</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/htp/htp_backend.html#qnn-htp-backend-api">QNN HTP Backend API</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/htp/htp_backend.html#qnn-htp-performance-infrastructure-api">QNN HTP Performance Infrastructure API</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/htp/htp_backend.html#qnn-htp-precision">QNN HTP Precision</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/htp/htp_backend.html#qnn-htp-fp16-output-difference-between-sm8550-and-sm8650">QNN HTP FP16 output difference between SM8550 and SM8650</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/htp/htp_backend.html#qnn-htp-deep-learning-bandwidth-compression-dlbc">QNN HTP Deep Learning Bandwidth Compression (DLBC)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/htp/htp_backend.html#qnn-htp-setting-number-of-hvx-threads">QNN HTP - Setting Number of HVX Threads</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/htp/htp_backend.html#qnn-htp-backend-extensions">QNN HTP Backend Extensions</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/htp/htp_backend.html#qnn-htp-profiling">QNN HTP Profiling</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/htp/htp_backend.html#qnn-context-binary-size">QNN Context Binary size</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="../general/htp/htp_backend.html#op-writing-guidelines">Op Writing Guidelines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/htp/htp_backend.html#recommendations-for-network-design">Recommendations for Network Design</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/htp/htp_backend.html#yielding-and-pre-emption">Yielding and Pre-Emption</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/htp/htp_backend.html#vtcm-sharing">VTCM Sharing</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/htp/htp_backend.html#subsystem-restart-ssr">SubSystem Restart (SSR)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/htp/htp_backend.html#qmem-graph-shared-buffer-only-graph">Qmem Graph (shared_buffer only graph)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/htp/htp_backend.html#htp-session-artifact-usage-guidlines">HTP Session &amp; Artifact Usage Guidlines</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/htp/htp_backend.html#graph-switching-beta">Graph Switching (Beta)</a></li>
<li class="toctree-l4"><a class="reference internal" href="../general/htp/htp_backend.html#benefits-of-batch-inference-and-multi-threaded-inference">Benefits of batch inference and multi-threaded inference</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../general/hta/hta_backend.html">HTA</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/lpai/lpai_backend.html">LPAI</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/cpu/cpu_backend.html">CPU</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/gpu/gpu_backend.html">GPU</a></li>
<li class="toctree-l3"><a class="reference internal" href="../general/saver/saver_backend.html">Saver</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../general/op_packages.html">Op Packages</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/tools.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/converters.html">Converters</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/quantization.html">Quantization</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/tutorials.html">Tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/benchmarking.html">Benchmarking</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/operations.html">Operations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../general/glossary.html">Glossary</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Qualcomm® AI Engine Direct</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../general/backend.html">Backend</a> &raquo;</li>
        
          <li><a href="../general/htp/htp_backend.html">HTP</a> &raquo;</li>
        
      <li>HTP Core Headers for Op Packages</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="htp-core-headers-for-op-packages">
<h1>HTP Core Headers for Op Packages<a class="headerlink" href="#htp-core-headers-for-op-packages" title="Permalink to this heading">¶</a></h1>
<p>HTP core exposes over 70 headers externally for usage in QNN op packages. This
set of headers provides data types, structs, macros, functions, classes and more
for the purposes of op implementation, optimization rule definition and their
registration. Op package implementers can utilize these data structures and
functionalities supported by HTP core. This document provides a general guideline
on how to use these headers.</p>
<p>Typically, only four headers need to be included in op package source files:
constraints.h, op_package_feature_support.h, simple_reg.h, and optimize.h.
These headers directly and indirectly include other headers from this header set.</p>
<p>These headers can be found in released QNN SDK, under directory include/HTP/core.
Please note that these headers may change in future QNN SDK releases, and HTP op
packages are required to be recompiled when new headers are released. In order
to minimize code changes, header contents in namespace <em>hnnx</em> should not be
directly used in op packages, as they are considered HTP core internal and may
change without announcement.</p>
<div class="section" id="htp-core-headers-usage">
<h2>HTP Core Headers Usage<a class="headerlink" href="#htp-core-headers-usage" title="Permalink to this heading">¶</a></h2>
<p>Please use the following categories as a guideline for finding the symbols you need.</p>
<p><strong>Data Type</strong></p>
<ul class="simple">
<li><p>dtype.h          :   info and traits of data types</p></li>
<li><p>dtype_enum.h     :   data types</p></li>
</ul>
<p><strong>Tensor</strong></p>
<ul class="simple">
<li><p>allocator.h      : memory class of tensor</p></li>
<li><p>dtype_enum.h     : data type of tensor</p></li>
<li><p>memory_layout.h  : memory layout of tensor</p></li>
<li><p>padding.h        : padding of tensor</p></li>
<li><p>shape.h          : shape of tensor</p></li>
<li><p>template_help.h  : tensor layout helpers</p></li>
<li><p>template_help_tensor_ext.h  : tensor layout helpers</p></li>
<li><p>tensor.h         : types of tensor, accessor functions of tensor</p></li>
<li><p>tensor_info.h    : tensor properties about TCM memory and stored format</p></li>
</ul>
<p><strong>Op Implementation</strong></p>
<ul class="simple">
<li><p>data type (listed above) : access info about data types used in tensors</p></li>
<li><p>tensors   (listed above) : access info and data of input and output tensors</p></li>
<li><p>afuncs.h         : auxiliary functions</p></li>
<li><p>builtin_intrinsics.h  : HVX built-in functions</p></li>
<li><p>check_hvx.h      : check if HVX is available</p></li>
<li><p>conversions.h    : data type conversion, comparison and arithmetic functions</p></li>
<li><p>float16.h        : float16 helper functions</p></li>
<li><p>graph_status.h   : enum as return value from op execute functions</p></li>
<li><p>hvx_mathops.h    : HVX math helper functions</p></li>
<li><p>intrinsics.h     : HVX functions</p></li>
<li><p>tile_extract.h   : tile read and write</p></li>
</ul>
<p><strong>Optimization Rule</strong></p>
<ul class="simple">
<li><p>constraints.h     : constraint rules in macros</p></li>
<li><p>dtype_enum.h     : data types</p></li>
<li><p>interface_defs.h : access OutputDef in external replacement functions</p></li>
<li><p>match_op.h       : functions used in match code part of optimization</p></li>
<li><p>oexpr.h          : functions for constraint and replacement</p></li>
<li><p>oexpr_post.h     : functions for constraint and replacement</p></li>
<li><p>optimize.h       : external replacement function interface, functions for generating shape op and const op, functions for generating Quickshape, various pre-defined replacement functions</p></li>
<li><p>optimize_defs.h  : constraint rules in macros</p></li>
<li><p>optimize_flags.h : constraints flags</p></li>
<li><p>op_def.h         : access OpDef in external replacement functions</p></li>
</ul>
<p><strong>Cost Function</strong></p>
<ul class="simple">
<li><p>cost.h           : cost function in macros</p></li>
<li><p>cost_funcs.h     : cost function infrastructure</p></li>
<li><p>op.h             : Op accessor for cost function usage</p></li>
</ul>
<p><strong>Registration</strong></p>
<ul class="simple">
<li><p>flags.h          : registration flag macros</p></li>
<li><p>op.h             : standard cost values</p></li>
<li><p>opname_tag.h     : utils for op names</p></li>
<li><p>optimize.h       : macros for optimization registration</p></li>
<li><p>ops_opts_registration.h  : registration infrastructure for Ops and Optimization rules</p></li>
<li><p>ops_opts_registration_defs.h   : consolidates all Ops and Optimization rule information</p></li>
<li><p>op_extra_info.h  : op extra information interface</p></li>
<li><p>op_info.h        : op information interface</p></li>
<li><p>op_package_name.h: current op package name as a string from compile flag</p></li>
<li><p>op_register.h    : macros for registering ops</p></li>
<li><p>op_register_ext.h: macros for op, flag and cost registration</p></li>
<li><p>op_register_types.h   : generation of op registration params for op construction</p></li>
<li><p>op_registry.h    : op factory interface, to register or generate ops</p></li>
<li><p>op_utils.h       : various op util functions</p></li>
<li><p>simple_op.h      : external op’s infrastructure</p></li>
<li><p>simple_reg.h     : external op registration headers</p></li>
</ul>
<p><strong>Logging</strong></p>
<ul class="simple">
<li><p>log.h            : for logging info, warning and error messages</p></li>
</ul>
<p><strong>Performance Measurement</strong></p>
<ul class="simple">
<li><p>perf_timing.h    : for measuring pcycles</p></li>
</ul>
<p><strong>Op Parameter Order, Axis Parameter Adjustment, and Per-channel Scale Op</strong></p>
<ul class="simple">
<li><p>op_package_feature_support.h  : for listing op parameter orders and default values, and for listing parameters needed axis adjustment, and for listing per-channel scale ops</p></li>
</ul>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="implementing_ops.html" class="btn btn-neutral float-right" title="Implementing Ops" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="common_optimization_utility_funcs_usage_examples.html" class="btn btn-neutral float-left" title="QNN HTP Optimization Utility Functions Usage Examples" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020-2024, Qualcomm Technologies, Inc..

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>