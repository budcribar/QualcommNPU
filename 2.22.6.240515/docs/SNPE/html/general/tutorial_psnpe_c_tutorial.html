

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>PSNPE C Tutorial &mdash; Snapdragon Neural Processing Engine SDK</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/custom_css.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="PSNPE C++ Tutorial" href="tutorial_psnpe_cplus_plus_tutorial.html" />
    <link rel="prev" title="PSNPE Introduction" href="tutorial_psnpe_introduction.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Qualcomm® Neural Processing SDK
          

          
          </a>

          
            
            
              <div class="version">
                v2.22.6
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="revision_history.html">Revision History</a></li>
<li class="toctree-l1"><a class="reference internal" href="revision_history_windows.html">Revision History - Windows</a></li>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview.html">Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup.html">Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="usergroup1.html">Network Models</a></li>
<li class="toctree-l1"><a class="reference internal" href="usergroup5.html">Input Data and Preprocessing</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="usergroup6.html">Tutorials and Examples</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="tutorial_setup.html">Tutorials Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="snpe2_migration_guidelines.html">SNPE1 to SNPE2 Migration Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="usergroup7.html">Running Nets</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="usergroup8.html">Code Examples</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="cplus_plus_tutorial.html">C++ Tutorial - Build the Sample</a></li>
<li class="toctree-l3"><a class="reference internal" href="c_tutorial.html">C Tutorial - Build the Sample</a></li>
<li class="toctree-l3"><a class="reference internal" href="c_api_guidelines.html">C API Guidelines</a></li>
<li class="toctree-l3"><a class="reference internal" href="android_tutorial.html">Android Tutorial</a></li>
<li class="toctree-l3"><a class="reference internal" href="build_samplecode_windows.html">Windows Tutorial</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial_inceptionv3_udo.html">UDO Tutorial</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial_inceptionv3_udo_dsp.html">UDO DSP tutorial for Quantized DLC</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial_inceptionv3_udo_dsp_win.html">UDO DSP tutorial on Windows for Quantized DLC</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial_onnx_udo_weights.html">UDO Tutorial With Weights</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial_psnpe_introduction.html">PSNPE Introduction</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">PSNPE C Tutorial</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial_psnpe_cplus_plus_tutorial.html">PSNPE C++ Tutorial</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial_psnpe_android_tutorial.html">PSNPE Android Tutorial</a></li>
<li class="toctree-l3"><a class="reference internal" href="dsp_runtime.html">DSP Runtime Environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="network_resize.html">Network Resizing</a></li>
<li class="toctree-l3"><a class="reference internal" href="input_batch.html">Input Image Batch</a></li>
<li class="toctree-l3"><a class="reference internal" href="init_caching.html">Init Caching</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="usergroup9.html">Application Tips</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="usergroup10.html">Benchmarking and Accuracy</a></li>
<li class="toctree-l1"><a class="reference internal" href="tools.html">Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="usergroup11.html">Debug Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="limitations.html">Limitations</a></li>
<li class="toctree-l1"><a class="reference internal" href="appx_ref.html">References</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Qualcomm® Neural Processing SDK</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="usergroup6.html">Tutorials and Examples</a> &raquo;</li>
        
          <li><a href="usergroup8.html">Code Examples</a> &raquo;</li>
        
      <li>PSNPE C Tutorial</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="psnpe-c-tutorial">
<h1>PSNPE C Tutorial<a class="headerlink" href="#psnpe-c-tutorial" title="Permalink to this heading">¶</a></h1>
<p class="rubric" id="prerequisites">Prerequisites</p>
<ul class="simple">
<li><p>The Qualcomm® Neural Processing SDK has been set up following the <a class="reference external" href="setup.html">|Qualcomm(R)| Neural Processing SDK setup</a> .</p></li>
<li><p>The <a class="reference external" href="tutorial_setup.html">Tutorials Setup</a> has been completed.</p></li>
<li><p>APIs used in this page can be found in <a class="reference external" href="c_tutorial.html">C Tutorial - Build the Sample chapter</a>.</p></li>
</ul>
<p class="rubric" id="introduction">Introduction</p>
<p>This tutorial demonstrates how to use PSNPE C APIs to build its C sample application
that can execute neural network models with multiple runtimes on the target device.
While this sample code does not do any error checking, it is strongly recommended
that users check for errors when using the PSNPE APIs. Besides, since sample code is
based on C, all relevant handles need to be freed in the end.</p>
<p>Using sync mode as a sample, a PSNPE integrated application will follow the following pattern while using a neural network:</p>
<ol class="arabic simple">
<li><p><a class="reference external" href="tutorial_psnpe_c_tutorial.html#get-configuration-of-available-runtimes">Get Configuration of Available Runtimes</a></p></li>
<li><p><a class="reference external" href="tutorial_psnpe_c_tutorial.html#get-builder-configuration">Get Builder Configuration</a></p></li>
<li><p><a class="reference external" href="tutorial_psnpe_c_tutorial.html#build-psnpe-instance">Build PSNPE Instance</a></p></li>
<li><p><a class="reference external" href="tutorial_psnpe_c_tutorial.html#load-network-inputs-with-user-buffer-list">Load Network Inputs with User Buffer List</a></p></li>
<li><p><a class="reference external" href="tutorial_psnpe_c_tutorial.html#execute-the-network-process-output-for-sync-mode">Execute the Network &amp; Process Output for Sync Mode</a></p></li>
<li><p><a class="reference external" href="tutorial_psnpe_c_tutorial.html#c-application-example">C Application Example</a></p></li>
</ol>
<div class="highlight-fragment notranslate"><div class="highlight"><pre><span></span>auto runtimeConfigListHandle = Snpe_RuntimeConfigList_Create();
auto bcHandle = Snpe_BuildConfig_Create();
buildStatus = (Snpe_PSNPE_Build(psnpeHandle, bcHandle) == SNPE_SUCCESS);
exeStatus = SNPE_SUCCESS == Snpe_PSNPE_Execute(psnpeHandle, inputMapList2, outputMapList2);
</pre></div>
</div>
<p>PSNPE uses sync model as default, if you want to choose async mode, please refer to
<a class="reference external" href="tutorial_psnpe_c_tutorial.html#buildconfig-for-async-mode">BuildConfig for Async Mode</a>.
For output async mode, loading input data and executing psnpe is similar as sync mode,
but you need to get output data by defining outputCallback function in
<a class="reference external" href="tutorial_psnpe_c_tutorial.html#callback-for-outputasync-mode">Callback for OutputAsync Mode</a>.
For input/output async mode, both loading input data and get output data need
callback functions which could refer to
<a class="reference external" href="tutorial_psnpe_c_tutorial.html#execution-and-callback-for-inputoutputasync-mode">Execution and Callback for InputOutputAsync Mode</a>.</p>
<p>The sections below describe how to implement each step described above.</p>
<p class="rubric" id="get-configuration-of-available-runtimes">Get Configuration of Available Runtimes</p>
<p>The code excerpt below illustrates how to set the config for each available runtime with the given parameters.
Creation of multiple instances for the same runtime can be done by adding multiple runtime config handles to the
runtime config list. Multiple instances, even of the same runtime, would create multiple worker threads to queue
work for execution, improving throughput.</p>
<div class="highlight-fragment notranslate"><div class="highlight"><pre><span></span>auto runtimeConfigListHandle = Snpe_RuntimeConfigList_Create();
for (size_t j = 0; j &lt; numRequestedInstances; j++)
{
    auto runtimeConfigHandle = Snpe_RuntimeConfig_Create();
    Snpe_RuntimeConfig_SetRuntimeList(runtimeConfigHandle, RuntimesListVector[j]);
    Snpe_RuntimeConfig_SetPerformanceProfile(runtimeConfigHandle, PerfProfile[j]);
    Snpe_RuntimeConfigList_PushBack(runtimeConfigListHandle, runtimeConfigHandle);
    Snpe_RuntimeConfig_Delete(runtimeConfigHandle);
    numCreatedInstances++;
}
</pre></div>
</div>
<p class="rubric" id="get-builder-configuration">Get Builder Configuration</p>
<p>The code excerpt below illustrates how to set the configuration for PSNPE builder with the given parameters including DLC, runtimeConfigList, output layer, transmission mode etc.</p>
<div class="highlight-fragment notranslate"><div class="highlight"><pre><span></span>auto containerHandle = Snpe_DlContainer_Open(ContainerPath.c_str());
auto bcHandle = Snpe_BuildConfig_Create();
Snpe_BuildConfig_SetContainer(bcHandle, containerHandle);
Snpe_BuildConfig_SetRuntimeConfigList(bcHandle, runtimeConfigListHandle);
Snpe_BuildConfig_SetOutputBufferNames(bcHandle, outputLayers);
Snpe_BuildConfig_SetInputOutputTransmissionMode(bcHandle, static_cast&lt;Snpe_PSNPE_InputOutputTransmissionMode_t&gt;(inputOutputTransmissionMode));
Snpe_BuildConfig_SetEncode(bcHandle, input_encode[0], input_encode[1]);
Snpe_BuildConfig_SetEnableInitCache(bcHandle, usingInitCache);
Snpe_BuildConfig_SetProfilingLevel(bcHandle, profilingLevel);
Snpe_BuildConfig_SetPlatformOptions(bcHandle, platformOptions.c_str());
Snpe_BuildConfig_SetOutputTensors(bcHandle, outputTensors);
</pre></div>
</div>
<p class="rubric" id="build-psnpe-instance">Build PSNPE Instance</p>
<p>The following code demonstrates how to instantiate a PSNPE Builder object which will be used to execute the network.</p>
<div class="highlight-fragment notranslate"><div class="highlight"><pre><span></span>buildStatus = (Snpe_PSNPE_Build(psnpeHandle, bcHandle) == SNPE_SUCCESS);
</pre></div>
</div>
<p class="rubric" id="load-network-inputs-with-user-buffer-list">Load Network Inputs with User Buffer List</p>
<p>This input loading method is used in synchronous mode and output asynchronous mode which
is similar as the method used by Qualcomm® Neural Processing SDK to create inputs
and outputs from user-backed buffers.</p>
<div class="highlight-fragment notranslate"><div class="highlight"><pre><span></span>std::vector&lt;std::unordered_map &lt;std::string, std::vector&lt;uint8_t&gt;&gt;&gt; outputBuffersVec(nums);
std::vector&lt;std::unordered_map &lt;std::string, std::vector&lt;uint8_t&gt;&gt;&gt; inputBuffersVec(nums);
std::vector&lt;Snpe_IUserBuffer_Handle_t&gt; snpeUserBackedInputBuffers;
std::vector&lt;Snpe_IUserBuffer_Handle_t&gt; snpeUserBackedOutputBuffers;
Snpe_UserBufferList_Handle_t inputMapList  = Snpe_UserBufferList_CreateSize(BufferNum);
Snpe_UserBufferList_Handle_t outputMapList = Snpe_UserBufferList_CreateSize(BufferNum);
if(inputOutputTransmissionMode != zdl::PSNPE::InputOutputTransmissionMode::inputOutputAsync)
{
   for (size_t i = 0; i &lt; inputs.size(); ++i) {
      for (size_t j = 0; j &lt; Snpe_StringList_Size(inputTensorNamesList[0]); ++j) {
         const char* name = Snpe_StringList_At(inputTensorNamesList[0], j);
         uint8_t bufferBitWidth = bitWidthMap[bufferDataTypeMap[name]];
         uint8_t nativeBitWidth = usingNativeInputDataType ? bitWidthMap[nativeDataTypeMap[name]]: 32;
         std::string nativeDataType = usingNativeInputDataType ? nativeDataTypeMap[name] : &quot;float32&quot;;
         if(bufferDataTypeMap[name] == &quot;float16&quot; || bufferDataTypeMap[name] == &quot;float32&quot;){
            if(!LoadInputBufferMapsFloatN(inputs[i][j], name, {psnpeHandle, true},
                                        Snpe_UserBufferList_At_Ref(inputMapList, i),
                                        snpeUserBackedInputBuffers, inputBuffersVec[i],numFilesCopied, batchSize, dynamicQuantization,
                                        bufferBitWidth,10, rpcMemAllocFnHandle, false, ionBufferMapHandle,
                                        usingNativeInputDataType, nativeDataType, nativeBitWidth))
            {
               return EXIT_FAILURE;
            }
         }
      }
      Snpe_StringList_Handle_t outputBufferNamesHandle = Snpe_PSNPE_GetOutputTensorNames(psnpeHandle);
      for (size_t j = 0; j &lt; Snpe_StringList_Size(outputBufferNamesHandle); ++j) {
         const char* name = Snpe_StringList_At(outputBufferNamesHandle, j);
         if(bufferDataTypeMap.find(name) == bufferDataTypeMap.end()){
            std::cerr &lt;&lt; &quot;DataType not specified for buffer &quot; &lt;&lt; name &lt;&lt; std::endl;
         }
         uint8_t bitWidth = bitWidthMap[bufferDataTypeMap[name]];
         if(bufferDataTypeMap[name] == &quot;float16&quot; || bufferDataTypeMap[name] == &quot;float32&quot;){
            PopulateOutputBufferMapsFloatN({psnpeHandle, true}, name,
                                          Snpe_UserBufferList_At_Ref(outputMapList, i),
                                          snpeUserBackedOutputBuffers, outputBuffersVec[i], bitWidth, 10,
                                          rpcMemAllocFnHandle, usingIonBuffer, ionBufferMapHandle);
         }
      }
   }
}
</pre></div>
</div>
<p class="rubric" id="execute-the-network-process-output-for-sync-mode">Execute the Network &amp; Process Output for Sync Mode</p>
<p>The following code uses the native API to execute the network in synchronous mode. The saveOutput function could refer to <a class="reference external" href="tutorial_psnpe_cplus_plus_tutorial.html">PSNPE C++ Tutorial</a></p>
<div class="highlight-fragment notranslate"><div class="highlight"><pre><span></span>exeStatus = SNPE_SUCCESS == Snpe_PSNPE_Execute(psnpeHandle, inputMapList, outputMapList);
for (size_t i = 0; i &lt; inputs.size(); i++) {
   saveOutput(Snpe_UserBufferList_At_Ref(outputMapList, i), outputBuffersVec[i], ionBufferMapReg, OutputDir, i * batchSize,  batchSize, false);
}
</pre></div>
</div>
<p class="rubric" id="buildconfig-for-async-mode">BuildConfig for Async Mode</p>
<p>If you want to run outputAsync mode or inputOutputAsync mode, you need to set callback fuction in buildConfig.</p>
<div class="highlight-fragment notranslate"><div class="highlight"><pre><span></span>if (inputOutputTransmissionMode == SNPE_PSNPE_INPUTOUTPUTTRANSMISSIONMODE_OUTPUTASYNC) {
   Snpe_BuildConfig_SetOutputThreadNumbers(bcHandle, outputNum);
   Snpe_BuildConfig_SetOutputCallback(bcHandle, OCallback);
}
if (inputOutputTransmissionMode == SNPE_PSNPE_INPUTOUTPUTTRANSMISSIONMODE_INPUTOUTPUTASYNC) {
   Snpe_BuildConfig_SetInputThreadNumbers(bcHandle, inputNum);
   Snpe_BuildConfig_SetOutputThreadNumbers(bcHandle, outputNum);
   Snpe_BuildConfig_SetInputOutputCallback(bcHandle, IOCallback);
   Snpe_BuildConfig_SetInputOutputInputCallback(bcHandle, inputCallback);
}
</pre></div>
</div>
<p class="rubric" id="callback-for-outputasync-mode">Callback for OutputAsync Mode</p>
<p>Output asynchronous mode provide real-time output by calling callback function.</p>
<div class="highlight-fragment notranslate"><div class="highlight"><pre><span></span>void OCallback(Snpe_PSNPE_OutputAsyncCallbackParam_Handle_t oacpHandle) {
   if(!Snpe_PSNPE_OutputAsyncCallbackParam_GetExecuteStatus(oacpHandle)) {
      std::cerr &lt;&lt; &quot;excute fail ,index: &quot; &lt;&lt; Snpe_PSNPE_OutputAsyncCallbackParam_GetDataIdx(oacpHandle) &lt;&lt; std::endl;
   }
}
</pre></div>
</div>
<p class="rubric" id="execution-and-callback-for-inputoutputasync-mode">Execution and Callback for InputOutputAsync Mode</p>
<p>Asynchronous execution can provide real-time output result while synchronous mode provides the outputs after finishing execution.</p>
<div class="highlight-fragment notranslate"><div class="highlight"><pre><span></span>for (size_t i = 0; i &lt; inputs.size(); ++i) {
std::vector&lt; std::string &gt; filePaths;
std::vector&lt;std::queue&lt;std::string&gt;&gt; temp = inputs[i];
for(size_t j=0;j&lt;temp.size();j++)
   {
      while(temp[j].size()!= 0){
         filePaths.push_back(temp[j].front());
         temp[j].pop();
      }
      numLines++;
      Snpe_StringList_Handle_t filePathsHandle = toStringList(filePaths);
      exeStatus = SNPE_SUCCESS == Snpe_PSNPE_ExecuteInputOutputAsync(psnpeHandle, filePathsHandle, i, usingTf8UserBuffer, usingTf8UserBuffer);
   }
}
//In input/output asynchronous mode, loading input data through callback function with TF8 vector.
Snpe_ApplicationBufferMap_Handle_t inputCallback(Snpe_StringList_Handle_t inputs, Snpe_StringList_Handle_t inputNames) {
  Snpe_ApplicationBufferMap_Handle_t inputMap = Snpe_ApplicationBufferMap_Create();
  for (size_t j = 0; j &lt; Snpe_StringList_Size(inputNames); j++) {
    std::vector&lt;uint8_t&gt; loadVector;
    ...  //load input data
    Snpe_ApplicationBufferMap_Add(inputMap, Snpe_StringList_At(inputNames, j), loadVector.data(), loadVector.size());
  }
  return inputMap;
}
// In input/output asynchronous mode, the index and data of output can be obtained through a callback function
void IOCallback(Snpe_PSNPE_InputOutputAsyncCallbackParam_Handle_t ioacpHandle)
{
   Snpe_StringList_Handle_t names = Snpe_PSNPE_InputOutputAsyncCallbackParam_GetUserBufferNames(ioacpHandle);
   std::vector&lt;std::pair&lt;const char*, Snpe_UserBufferData_t&gt;&gt; vec;
   const auto end = Snpe_StringList_End(names);
   for(auto it = Snpe_StringList_Begin(names); it != end; ++it){
      vec.emplace_back(*it, Snpe_PSNPE_InputOutputAsyncCallbackParam_GetUserBuffer(ioacpHandle, *it));
   }
   saveOutput(vec, OutputDir, Snpe_PSNPE_InputOutputAsyncCallbackParam_GetDataIdx(ioacpHandle));
}
// The below shows parts of the function.
void saveOutput(const std::vector&lt;std::pair&lt;const char*, Snpe_UserBufferData_t&gt;&gt;&amp; applicationOutputBuffers, const std::string&amp; outputDir, int num){
  std::for_each(applicationOutputBuffers.begin(),
                applicationOutputBuffers.end(),
                [&amp;](std::pair&lt;std::string, Snpe_UserBufferData_t&gt; a) {
                  std::ostringstream path;
                  path &lt;&lt; outputDir &lt;&lt; &quot;/&quot;
                       &lt;&lt; &quot;Result_&quot; &lt;&lt; num &lt;&lt; &quot;/&quot; &lt;&lt; pal::FileOp::toLegalFilename(a.first) &lt;&lt; &quot;.raw&quot;;
                  std::string outputPath = path.str();
                  std::string::size_type pos = outputPath.find(&quot;:&quot;);
                  if (pos != std::string::npos) outputPath = outputPath.replace(pos, 1, &quot;_&quot;);
                  SaveUserBuffer(outputPath, a.second.data, a.second.size);
                });
}
</pre></div>
</div>
<p class="rubric" id="c-application-example">C Application Example</p>
<p>The C application integrated with PSNPE in this tutorial is called <a class="reference external" href="tools.html#snpe-parallel-run">snpe-parallel-run</a>.
It is a command line executable that executes a DLC model using Qualcomm® Neural Processing SDK SDK APIs.
It’s usage is same as snpe-net-run example from <a class="reference external" href="tutorial_inceptionv3.html">Running the Inception v3 Model</a>
while running on android target.</p>
<ol class="arabic simple">
<li><p>Push model data to Android target.</p></li>
<li><p>Select target architecture.</p></li>
<li><p>Push binaries to target.</p></li>
<li><p>Set up environment variables.</p></li>
</ol>
<div class="highlight-fragment notranslate"><div class="highlight"><pre><span></span>adb shell
export ADSP_LIBRARY_PATH=&quot;/data/local/tmp/snpeexample/dsp/lib;/system/lib/rfsa/adsp;/system/vendor/lib/rfsa/adsp;/dsp&quot;
export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/data/local/tmp/snpeexample/aarch64-android/lib
export PATH=$PATH:/data/local/tmp/snpeexample/aarch64-android/bin/
cd /data/local/tmp/inception_v3
snpe-parallel-run --container inception_v3_quantized.dlc --input_list target_raw_list.txt --use_dsp --perf_profile burst --cpu_fallback false --use_dsp --perf_profile burst --cpu_fallback false --runtime_mode output_async
exit
</pre></div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="tutorial_psnpe_cplus_plus_tutorial.html" class="btn btn-neutral float-right" title="PSNPE C++ Tutorial" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="tutorial_psnpe_introduction.html" class="btn btn-neutral float-left" title="PSNPE Introduction" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020-2023, Qualcomm Technologies, Inc..

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>